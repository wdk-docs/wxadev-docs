.. _api-backend:

:wxbpi:`服务端API <index>`
===================================================

版本:|release| 更新:|today|

登录
-------

+--------------------------+--------------+
|           名称           |   功能说明   |
+==========================+==============+
| :ref:`auth.code2Session` | 登录凭证校验 |
+--------------------------+--------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   auth.code2Session

用户信息
----------

+----------------------------+----------------------------------------------------+
|            名称            |                      功能说明                      |
+============================+====================================================+
| :ref:`auth.getPaidUnionId` | 用户支付完成后，获取该用户的 UnionId，无需用户授权 |
+----------------------------+----------------------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   auth.getPaidUnionId

接口调用凭证
------------

+----------------------------+----------------------------------------------------+
|            名称            |                      功能说明                      |
+============================+====================================================+
| :ref:`auth.getAccessToken` | 获取小程序全局唯一后台接口调用凭据（access_token） |
+----------------------------+----------------------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   auth.getAccessToken

数据分析
---------

.. toctree::
   :maxdepth: 1
   :hidden:

访问留存
~~~~~~~~~~~~~~

+----------------------------------+--------------------------+
|               名称               |         功能说明         |
+==================================+==========================+
| :ref:`analysis.getDailyRetain`   | 获取用户访问小程序日留存 |
+----------------------------------+--------------------------+
| :ref:`analysis.getMonthlyRetain` | 获取用户访问小程序月留存 |
+----------------------------------+--------------------------+
| :ref:`analysis.getWeeklyRetain`  | 获取用户访问小程序周留存 |
+----------------------------------+--------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   analysis.getDailyRetain
   analysis.getMonthlyRetain
   analysis.getWeeklyRetain

访问趋势
~~~~~~~~~~~~~~

+--------------------------------------+----------------------------------------+
|                 名称                 |                功能说明                |
+======================================+========================================+
| :ref:`analysis.getDailyVisitTrend`   | 获取用户访问小程序数据日趋势           |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getMonthlyVisitTrend` | 获取用户访问小程序数据月趋势           |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getWeeklyVisitTrend`  | 获取用户访问小程序数据周趋势           |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getUserPortrait`      | 获取小程序新增或活跃用户的画像分布数据 |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getVisitDistribution` | 获取用户小程序访问分布数据             |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getVisitPage`         | 访问页面                               |
+--------------------------------------+----------------------------------------+
| :ref:`analysis.getDailySummary`      | 获取用户访问小程序数据概况             |
+--------------------------------------+----------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   analysis.getDailyVisitTrend
   analysis.getMonthlyVisitTrend
   analysis.getWeeklyVisitTrend
   analysis.getUserPortrait
   analysis.getVisitDistribution
   analysis.getVisitPage
   analysis.getDailySummary

客服消息
------------

+-----------------------------------------------+----------------------------+
|                     名称                      |          功能说明          |
+===============================================+============================+
| :ref:`customerServiceMessage.getTempMedia`    | 获取客服消息内的临时素材   |
+-----------------------------------------------+----------------------------+
| :ref:`customerServiceMessage.send`            | 发送客服消息给用户         |
+-----------------------------------------------+----------------------------+
| :ref:`customerServiceMessage.setTyping`       | 下发客服当前输入状态给用户 |
+-----------------------------------------------+----------------------------+
| :ref:`customerServiceMessage.uploadTempMedia` | 把媒体文件上传到微信服务器 |
+-----------------------------------------------+----------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   customerServiceMessage.getTempMedia
   customerServiceMessage.send
   customerServiceMessage.setTyping
   customerServiceMessage.uploadTempMedia

模板消息
------------

+-----------------------------------------------+------------------------------------+
|                     名称                      |              功能说明              |
+===============================================+====================================+
| :ref:`templateMessage.addTemplate`            | 组合模板并添加至帐号下的个人模板库 |
+-----------------------------------------------+------------------------------------+
| :ref:`templateMessage.deleteTemplate`         | 删除帐号下的某个模板               |
+-----------------------------------------------+------------------------------------+
| :ref:`templateMessage.getTemplateLibraryById` | 获取模板库某个模板标题下关键词库   |
+-----------------------------------------------+------------------------------------+
| :ref:`templateMessage.getTemplateLibraryList` | 获取小程序模板库标题列表           |
+-----------------------------------------------+------------------------------------+
| :ref:`templateMessage.getTemplateList`        | 获取帐号下已存在的模板列表         |
+-----------------------------------------------+------------------------------------+
| :ref:`templateMessage.send`                   | 发送模板消息                       |
+-----------------------------------------------+------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   templateMessage.addTemplate
   templateMessage.deleteTemplate
   templateMessage.getTemplateLibraryById
   templateMessage.getTemplateLibraryList
   templateMessage.getTemplateList
   templateMessage.send

统一服务消息
------------

+----------------------------+----------------------------------+
|            名称            |             功能说明             |
+============================+==================================+
| :ref:`uniformMessage.send` | 下发小程序和公众号统一的服务消息 |
+----------------------------+----------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   uniformMessage.send

动态消息
------------

+------------------------------------------+----------------------------------+
|                   名称                   |             功能说明             |
+==========================================+==================================+
| :ref:`updatableMessage.createActivityId` | 创建被分享动态消息的 activity_id |
+------------------------------------------+----------------------------------+
| :ref:`updatableMessage.setUpdatableMsg`  | 修改被分享的动态消息             |
+------------------------------------------+----------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   updatableMessage.createActivityId
   updatableMessage.setUpdatableMsg

插件管理
------------

+----------------------------------------------+--------------------------------------------+
|                     名称                     |                  功能说明                  |
+==============================================+============================================+
| :ref:`pluginManager.applyPlugin`             | 向插件开发者发起使用插件的申请             |
+----------------------------------------------+--------------------------------------------+
| :ref:`pluginManager.getPluginDevApplyList`   | 获取当前所有插件使用方（供插件开发者调用） |
+----------------------------------------------+--------------------------------------------+
| :ref:`pluginManager.getPluginList`           | 查询已添加的插件                           |
+----------------------------------------------+--------------------------------------------+
| :ref:`pluginManager.setDevPluginApplyStatus` | 修改插件使用申请的状态（供插件开发者调用） |
+----------------------------------------------+--------------------------------------------+
| :ref:`pluginManager.unbindPlugin`            | 删除已添加的插件                           |
+----------------------------------------------+--------------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   pluginManager.applyPlugin
   pluginManager.getPluginDevApplyList
   pluginManager.getPluginList
   pluginManager.setDevPluginApplyStatus
   pluginManager.unbindPlugin

附近的小程序
------------

+--------------------------------+-------------------------+
|              名称              |        功能说明         |
+================================+=========================+
| :ref:`nearbyPoi.add`           | 添加地点                |
+--------------------------------+-------------------------+
| :ref:`nearbyPoi.delete`        | 删除地点                |
+--------------------------------+-------------------------+
| :ref:`nearbyPoi.getList`       | 查看地点列表            |
+--------------------------------+-------------------------+
| :ref:`nearbyPoi.setShowStatus` | 展示/取消展示附近小程序 |
+--------------------------------+-------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   nearbyPoi.add
   nearbyPoi.delete
   nearbyPoi.getList
   nearbyPoi.setShowStatus

小程序码
------------

+-----------------------------+----------------------------------------------------+
|            名称             |                      功能说明                      |
+=============================+====================================================+
| :ref:`wxacode.createQRCode` | 获取小程序二维码，适用于需要的码数量较少的业务场景 |
+-----------------------------+----------------------------------------------------+
| :ref:`wxacode.get`          | 获取小程序码，适用于需要的码数量较少的业务场景     |
+-----------------------------+----------------------------------------------------+
| :ref:`wxacode.getUnlimited` | 获取小程序码，适用于需要的码数量极多的业务场景     |
+-----------------------------+----------------------------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   wxacode.createQRCode
   wxacode.get
   wxacode.getUnlimited

内容安全
------------

+-----------------------------+----------------------------------+
|            名称             |             功能说明             |
+=============================+==================================+
| :ref:`security.imgSecCheck` | 校验一张图片是否含有违法违规内容 |
+-----------------------------+----------------------------------+
| :ref:`security.msgSecCheck` | 检查一段文本是否含有违法违规内容 |
+-----------------------------+----------------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   security.imgSecCheck
   security.msgSecCheck

物流助手
------------

小程序使用
~~~~~~~~~~~~~~

+-------------------------------------+------------------------+
|                名称                 |        功能说明        |
+=====================================+========================+
| :ref:`logistics.onPathUpdate`       | 运单轨迹更新事件       |
+-------------------------------------+------------------------+
| :ref:`logistics.addOrder` ☁️        | 生成运单               |
+-------------------------------------+------------------------+
| :ref:`logistics.cancelOrder`  ☁️    | 取消运单               |
+-------------------------------------+------------------------+
| :ref:`logistics.getAllDelivery`  ☁️ | 获取支持的快递公司列表 |
+-------------------------------------+------------------------+
| :ref:`logistics.getOrder`  ☁️       | 获取运单数据           |
+-------------------------------------+------------------------+
| :ref:`logistics.getPath`  ☁️        | 查询运单轨迹           |
+-------------------------------------+------------------------+
| :ref:`logistics.getPrinter`  ☁️     | 获取打印员             |
+-------------------------------------+------------------------+
| :ref:`logistics.getQuota`  ☁️       | 获取电子面单余额       |
+-------------------------------------+------------------------+
| :ref:`logistics.updatePrinter`  ☁️  | 更新打印员             |
+-------------------------------------+------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   logistics.onPathUpdate
   logistics.addOrder
   logistics.cancelOrder
   logistics.getAllDelivery
   logistics.getOrder
   logistics.getPath
   logistics.getQuota
   logistics.updatePrinter
   logistics.getPrinter

服务提供方使用
~~~~~~~~~~~~~~

+-------------------------------------+--------------------+
|                名称                 |      功能说明      |
+=====================================+====================+
| :ref:`logistics.getContact` ☁️      | 获取面单联系人信息 |
+-------------------------------------+--------------------+
| :ref:`logistics.onAddOrder`         | 请求下单事件       |
+-------------------------------------+--------------------+
| :ref:`logistics.onCancelOrder`      | 取消订单事件       |
+-------------------------------------+--------------------+
| :ref:`logistics.onCheckBusiness`    | 审核商户事件       |
+-------------------------------------+--------------------+
| :ref:`logistics.onGetQuota`         | 查询商户余额事件   |
+-------------------------------------+--------------------+
| :ref:`logistics.previewTemplate` ☁️ | 预览面单模板       |
+-------------------------------------+--------------------+
| :ref:`logistics.updateBusiness` ☁️  | 更新商户审核结果   |
+-------------------------------------+--------------------+
| :ref:`logistics.updatePath` ☁️      | 更新运单轨迹       |
+-------------------------------------+--------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   logistics.getContact
   logistics.onAddOrder
   logistics.onCancelOrder
   logistics.onCheckBusiness
   logistics.onGetQuota
   logistics.previewTemplate
   logistics.updateBusiness
   logistics.updatePath

生物认证
------------------------

+------------------------------+----------------------------+
|             名称             |          功能说明          |
+==============================+============================+
| :ref:`soter.verifySignature` | SOTER 生物认证秘钥签名验证 |
+------------------------------+----------------------------+

.. toctree::
   :maxdepth: 1
   :hidden:

   soter.verifySignature
