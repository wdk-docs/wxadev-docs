
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>页面(page) &#8212; wxadev v2.21.0 文档</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx13.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 wxadev v2.21.0 文档 中搜索"
          href="../../_static/opensearch.xml"/>

    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="获取当前页面栈(getCurrentPages)" href="getCurrentPages.html" />
    <link rel="prev" title="获取到小程序全局唯一的 App 实例(getApp)" href="getApp.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/reference/api/page.html" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet" type="text/css" />
 
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
  
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]), $(document).height() - sbh - 200]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20, $(document).height() - sbh - 200]));
      }
    }
  });
</script> 
  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">主页</a></li>
    <li><a href="../../basic/index.html">入门</a></li>
    <li><a href="../../framework/index.html">框架</a></li>
    <li><a href="../../component/index.html">组件</a></li>
    <li><a href="../../api/index.html">API</a></li>
    <li><a href="../../api-backend/index.html">服务端</a></li>
    <li><a href="../index.html">参考</a></li>
    <li><a href="../../contents.html">目录</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/wxaheader.png" alt="wxa" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="微信小程序API"
             >wxapi</a> |</li>
        <li class="right" >
          <a href="getCurrentPages.html" title="获取当前页面栈(getCurrentPages)"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="getApp.html" title="获取到小程序全局唯一的 App 实例(getApp)"
             accesskey="P">上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >参考资料</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">框架接口说明</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">页面(page)</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>上一个主题</h4>
  <p class="topless"><a href="getApp.html"
                        title="上一章">获取到小程序全局唯一的 App 实例(getApp)</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="getCurrentPages.html"
                        title="下一章">获取当前页面栈(getCurrentPages)</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/reference/api/page.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="page">
<h1><a class="reference external" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html">页面(page)</a><a class="headerlink" href="#page" title="永久链接至标题">¶</a></h1>
<dl class="js class">
<dt class="sig sig-object js" id="Page">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="n"><span class="pre">Page</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">{data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onLoad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onShow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onReady</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onHide</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onUnload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onPullDownRefresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onReachBottom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onShareAppMessage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onPageScroll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onResize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onTabItemTap}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Page" title="永久链接至目标">¶</a></dt>
<dd><p>注册小程序中的一个页面。接受一个 Object 类型参数，其指定页面的初始数据、生命周期回调、事件处理函数等。</p>
<dl class="field-list">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">Object()</span></code></span>) – <p>页面第一次渲染使用的初始数据。
页面加载时，data 将会以JSON字符串的形式由逻辑层传至渲染层，
因此data中的数据必须是可以转成JSON的类型：字符串，数字，布尔值，对象，数组。
渲染层可以通过 WXML 对数据进行绑定。</p>
<p>示例代码： :<a class="reference download external" download="" href="https://developers.weixin.qq.com/s/2PeBsKmn6EZ9"><code class="xref download docutils literal notranslate"><span class="pre">在开发者工具中预览效果</span></code></a></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{text}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{array[0].msg}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;init data&#39;</span><span class="p">,</span>
    <span class="nx">array</span><span class="o">:</span> <span class="p">[{</span><span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span> <span class="p">{</span><span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;2&#39;</span><span class="p">}]</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</p></li>
<li><p><strong>onLoad(query)</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>生命周期回调函数</strong> — 监听页面加载, 页面加载时触发。
一个页面只会调用一次，可以在 onLoad 的参数中获取打开当前页面路径中的参数。</p>
<ul>
<li><p><strong>query</strong> (<em>Object</em>) -    打开当前页面路径中的参数</p></li>
</ul>
</p></li>
<li><p><strong>onShow</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <strong>生命周期回调函数</strong> — 监听页面显示,页面显示/切入前台时触发。</p></li>
<li><p><strong>onReady</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>生命周期回调函数</strong> — 监听页面初次渲染完成, 页面初次渲染完成时触发。一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。</p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>对界面内容进行设置的 API 如 <a class="reference internal" href="../../api/wx.setNavigationBarTitle.html#wx.setNavigationBarTitle" title="wx.setNavigationBarTitle"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.setNavigationBarTitle()</span></code></a> ，请在onReady之后进行。详见生命周期</p>
</div>
</p></li>
<li><p><strong>onHide</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <strong>生命周期回调函数</strong> — 监听页面隐藏, 页面隐藏/切入后台时触发。 如 <a class="reference internal" href="../../api/wx.navigateTo.html#wx.navigateTo" title="wx.navigateTo"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.navigateTo()</span></code></a> 或底部 tab 切换到其他页面，小程序切入后台等。</p></li>
<li><p><strong>onUnload</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <strong>生命周期回调函数</strong> — 监听页面卸载, 页面卸载时触发。如 <a class="reference internal" href="../../api/wx.redirectTo.html#wx.redirectTo" title="wx.redirectTo"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.redirectTo()</span></code></a> 或 <a class="reference internal" href="../../api/wx.navigateBack.html#wx.navigateBack" title="wx.navigateBack"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.navigateBack()</span></code></a> 到其他页面时。</p></li>
<li><p><strong>onPullDownRefresh</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 监听用户下拉动作刷新事件。</p>
<ul>
<li><p>需要在 <code class="docutils literal notranslate"><span class="pre">app.json</span></code> 的 window 选项中或页面配置中开启 <code class="xref js js-data docutils literal notranslate"><span class="pre">enablePullDownRefresh</span></code> 。</p></li>
<li><p>可以通过 <a class="reference internal" href="../../api/wx.startPullDownRefresh.html#wx.startPullDownRefresh" title="wx.startPullDownRefresh"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.startPullDownRefresh()</span></code></a> 触发下拉刷新，调用后触发下拉刷新动画，效果与用户手动下拉刷新一致。</p></li>
<li><p>当处理完数据刷新后，<a class="reference internal" href="../../api/wx.stopPullDownRefresh.html#wx.stopPullDownRefresh" title="wx.stopPullDownRefresh"><code class="xref js js-func docutils literal notranslate"><span class="pre">wx.stopPullDownRefresh()</span></code></a> 可以停止当前页面的下拉刷新。</p></li>
</ul>
</p></li>
<li><p><strong>onReachBottom</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 监听用户上拉触底事件。</p>
<ul>
<li><p>可以在 <code class="docutils literal notranslate"><span class="pre">app.json</span></code> 的 window 选项中或页面配置中设置触发距离 <code class="xref js js-data docutils literal notranslate"><span class="pre">onReachBottomDistance</span></code> 。</p></li>
<li><p>在触发距离内滑动期间，本事件只会被触发一次。</p></li>
</ul>
</p></li>
<li><p><strong>onShareAppMessage({from,target,webViewUrl})</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 用户点击右上角转发,监听用户点击页面内转发按钮（<a class="reference internal" href="../../component/button.html#button"><span class="std std-ref">&lt;button&gt;</span></a> 组件 <code class="docutils literal notranslate"><span class="pre">open-type=&quot;share&quot;</span></code>）或右上角菜单“转发”按钮的行为，并自定义转发内容。</p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>只有定义了此事件处理函数，右上角菜单才会显示“转发”按钮</p>
</div>
<ul>
<li><p><strong>from</strong>  (<em>String</em>) -    转发事件来源。button：页面内转发按钮；menu：右上角转发菜单      1.2.4</p></li>
<li><p><strong>target</strong>        (<em>Object</em>) -    如果 from 值是 button，则 target 是触发这次转发事件的 button，否则为 undefined      1.2.4</p></li>
<li><p><strong>webViewUrl</strong>    (<em>String</em>) -    页面中包含&lt;web-view&gt;组件时，返回当前&lt;web-view&gt;的url   1.6.4</p></li>
</ul>
<p>此事件处理函数需要 return 一个 Object，用于自定义转发内容，返回内容如下:</p>
<ul>
<li><p><strong>title</strong> 转发标题    当前小程序名称</p></li>
<li><p><strong>path</strong>  转发路径    当前页面 path ，必须是以 / 开头的完整路径</p></li>
<li><p><strong>imageUrl</strong>      自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径。支持PNG及JPG。显示图片长宽比是 5:4。       使用默认截图  1.5.0</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">示例</dt>
<dd class="field-odd"><p><a class="reference download external" download="" href="https://developers.weixin.qq.com/s/mffqUKmr6fZU"><code class="xref download docutils literal notranslate"><span class="pre">在开发者工具中预览效果</span></code></a></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">onShareAppMessage</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">from</span> <span class="o">===</span> <span class="s1">&#39;button&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 来自页面内转发按钮</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">target</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;自定义转发标题&#39;</span><span class="p">,</span>
      <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/page/user?id=123&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</p></li>
<li><p><strong>onPageScroll({scrollTop})</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 监听用户滑动页面事件。</p>
<ul>
<li><p><strong>scrollTop</strong>     (<em>Number</em>) -    页面在垂直方向已滚动的距离（单位px）</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>请只在需要的时候才在 page 中定义此方法，不要定义空方法。
以减少不必要的事件派发对渲染层-逻辑层通信的影响。</p>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>请避免在 onPageScroll 中过于频繁的执行 setData 等引起逻辑层-渲染层通信的操作。
尤其是每次传输大量数据，会影响通信耗时。</p>
</div>
</p></li>
<li><p><strong>onResize</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 页面尺寸改变时触发，详见 响应显示区域变化</p>
<div class="versionadded">
<p><span class="versionmodified added">2.4.0 新版功能: </span>低版本需做 <a class="reference internal" href="../../framework/compatibility.html#compatibility"><span class="std std-ref">兼容处理</span></a> 。</p>
</div>
<p>小程序屏幕旋转时触发。详见 响应显示区域变化</p>
</p></li>
<li><p><strong>text})</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function</span> <span class="pre">onTabItemTap({index,</span> <span class="pre">pagePath,()</span></code></span>) – <p><strong>页面事件处理函数</strong> - 点击 tab 时触发</p>
<div class="versionadded">
<p><span class="versionmodified added">1.9.0 新版功能: </span>低版本需做 <a class="reference internal" href="../../framework/compatibility.html#compatibility"><span class="std std-ref">兼容处理</span></a> 。</p>
</div>
<ul>
<li><p><strong>index</strong> (<em>String</em>) -    被点击tabItem的序号，从0开始</p></li>
<li><p><strong>pagePath</strong>      (<em>String</em>) -    被点击tabItem的页面路径</p></li>
<li><p><strong>text</strong>  (<em>String</em>) -    被点击tabItem的按钮文字</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">示例</dt>
<dd class="field-odd"><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">onTabItemTap</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">index</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">pagePath</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</p></li>
<li><p><strong>tapFunc</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">function()</span></code></span>) – <p><strong>组件事件处理函数</strong> - Page 中还可以定义组件事件处理函数。在渲染层的组件中加入事件绑定，当事件被触发时，就会执行 Page 中定义的事件处理函数。</p>
<dl class="field-list">
<dt class="field-odd">示例</dt>
<dd class="field-odd"><p><a class="reference download external" download="" href="https://developers.weixin.qq.com/s/vUf6fKmX64Zn"><code class="xref download docutils literal notranslate"><span class="pre">在开发者工具中预览效果</span></code></a></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">view</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;viewTap&quot;</span><span class="p">&gt;</span>click me<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">viewTap</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;view tap&#39;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</p></li>
<li><p><strong>其他</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">any()</span></code></span>) – 开发者可以添加任意的函数或数据到 Object 参数中，在页面的函数中用 this 可以访问</p></li>
</ul>
</dd>
<dt class="field-even">示例</dt>
<dd class="field-even"><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// index.js</span>
<span class="nx">Page</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;This is page data.&#39;</span>
  <span class="p">},</span>
  <span class="nx">onLoad</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do some initialize when page load.</span>
  <span class="p">},</span>
  <span class="nx">onReady</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page ready.</span>
  <span class="p">},</span>
  <span class="nx">onShow</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page show.</span>
  <span class="p">},</span>
  <span class="nx">onHide</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page hide.</span>
  <span class="p">},</span>
  <span class="nx">onUnload</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page close.</span>
  <span class="p">},</span>
  <span class="nx">onPullDownRefresh</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when pull down.</span>
  <span class="p">},</span>
  <span class="nx">onReachBottom</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page reach bottom.</span>
  <span class="p">},</span>
  <span class="nx">onShareAppMessage</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// return custom share data when user share.</span>
  <span class="p">},</span>
  <span class="nx">onPageScroll</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page scroll</span>
  <span class="p">},</span>
  <span class="nx">onResize</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Do something when page resize</span>
  <span class="p">},</span>
  <span class="nx">onTabItemTap</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">index</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">pagePath</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="c1">// Event handler.</span>
  <span class="nx">viewTap</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Set some data for updating view.&#39;</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="c1">// this is setData callback</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">customData</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">hi</span><span class="o">:</span> <span class="s1">&#39;MINA&#39;</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="js attribute">
<dt class="sig sig-object js" id="Page.route">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Page</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">route</span></span></span><a class="headerlink" href="#Page.route" title="永久链接至目标">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">1.2.0 新版功能: </span>低版本需做 <a class="reference internal" href="../../framework/compatibility.html#compatibility"><span class="std std-ref">兼容处理</span></a> 。</p>
</div>
<p>到当前页面的路径，类型为String。</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">onShow</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Page.prototype.setData">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Page</span></span><span class="p"><span class="pre">.</span></span><span class="n"><span class="pre">prototype</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">setData</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Page.prototype.setData" title="永久链接至目标">¶</a></dt>
<dd><p>setData 函数用于将数据从逻辑层发送到视图层（异步），同时改变对应的 this.data 的值（同步）。</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">object()</span></code></span>) – <p>要改变的数据,
以 <em>key:value</em> 的形式表示，将 <em>this.data</em> 中的 <em>key</em> 对应的值改变成 <em>value。</em></p>
<p>其中 key 可以以数据路径的形式给出，支持改变数组中的某一项或对象的某个属性，如 <em>array[2].message</em>，<em>a.b.c.d</em>，并且不需要在 <em>this.data</em> 中预先定义。</p>
</p></li>
<li><p><strong>callback</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">Function()</span></code></span>) – <p>setData引起的界面更新渲染完毕后的回调函数</p>
<div class="versionadded">
<p><span class="versionmodified added">1.5.0 新版功能.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<ul class="simple">
<li><p>直接修改 this.data 而不调用 this.setData 是无法改变页面的状态的，还会造成数据不一致。</p></li>
<li><p>仅支持设置可 JSON 化的数据。</p></li>
<li><p>单次设置的数据不能超过1024kB，请尽量避免一次设置过多的数据。</p></li>
<li><p>请不要把 data 中任何一项的 value 设为 undefined ，否则这一项将不被设置并可能遗留一些潜在问题。</p></li>
</ul>
</div>
<dl class="field-list">
<dt class="field-odd">示例</dt>
<dd class="field-odd"><p><a class="reference download external" download="" href="https://developers.weixin.qq.com/s/HofnzKmb6fZe"><code class="xref download docutils literal notranslate"><span class="pre">在开发者工具中预览效果</span></code></a></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!--index.wxml--&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{text}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;changeText&quot;</span><span class="p">&gt;</span>Change normal data<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{num}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;changeNum&quot;</span><span class="p">&gt;</span>Change normal num<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{array[0].text}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;changeItemInArray&quot;</span><span class="p">&gt;</span>Change Array data<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{object.text}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;changeItemInObject&quot;</span><span class="p">&gt;</span>Change Object data<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>{{newField.text}}<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&quot;addNewField&quot;</span><span class="p">&gt;</span>Add new data<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// index.js</span>
<span class="nx">Page</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;init data&#39;</span><span class="p">,</span>
    <span class="nx">num</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
    <span class="nx">array</span><span class="o">:</span> <span class="p">[{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;init data&#39;</span><span class="p">}],</span>
    <span class="nx">object</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;init data&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">changeText</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// this.data.text = &#39;changed data&#39; // 不要直接修改 this.data</span>
    <span class="c1">// 应该使用 setData</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;changed data&#39;</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">changeNum</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 或者，可以修改 this.data 之后马上用 setData 设置一下修改了的字段</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mf">1</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="nx">num</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">num</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">changeItemInArray</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 对于对象或数组字段，可以直接修改一个其下的子字段，这样做通常比修改整个对象或数组更好</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="s1">&#39;array[0].text&#39;</span><span class="o">:</span> <span class="s1">&#39;changed data&#39;</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">changeItemInObject</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="s1">&#39;object.text&#39;</span><span class="o">:</span> <span class="s1">&#39;changed data&#39;</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">addNewField</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="s1">&#39;newField.text&#39;</span><span class="o">:</span> <span class="s1">&#39;new data&#39;</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="微信小程序API"
             >wxapi</a> |</li>
        <li class="right" >
          <a href="getCurrentPages.html" title="获取当前页面栈(getCurrentPages)"
             >下一页</a> |</li>
        <li class="right" >
          <a href="getApp.html" title="获取到小程序全局唯一的 App 实例(getApp)"
             >上一页</a> |</li>
<li><a href="../../index.html">主页</a>&#160;|</li>
<li><a href="../../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >参考资料</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >框架接口说明</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">页面(page)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2019, Wxadev Docs.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>