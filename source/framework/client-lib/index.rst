:wxfrwk:`基础库 <client-lib/index>`
==================================================

**基础库更新**


为了避免新版本的基础库给线上小程序带来未知的影响，微信客户端都是携带 上一个稳定版 的基础库发布的。

在新版本客户端发布后，再通过后台灰度新版本基础库，灰度时长一般为 12 ～ 24 小时，在灰度结束后，用户设备上才会有新版本的基础库。

以微信 6.5.8 为例，客户端在发布时携带的是 1.1.1 基础库（6.5.7 上已全量的稳定版）发布，在 6.5.8 发布后，
我们再通过后台灰度 1.2.0 基础库。

查看基础库版本分布

**基础库与客户端之间的关系**

小程序的能力需要微信客户端来支撑，每一个基础库都只能在对应的客户端版本上运行，高版本的基础库无法兼容低版本的微信客户端。通常：

- 第 1（major）、2（minor）位版本号更新通常需要依赖新版本的客户端，
  如：基础库 v2.1.3 运行在 v6.6.7 客户端，基础库 v2.2.0 需要 v6.7.0 客户端。
- 第 3（patch） 位版本号的更新一般不需要依赖客户端更新，
  如：基础库v2.1.0 ~ v2.1.3 都运行在 v6.6.7 客户端，新版本发布会覆盖旧版本。

关于基础库的兼容方法，可以查看「兼容处理」章节。

查看基础库与客户端版本对应关系

.. toctree::
   :maxdepth: 3
   :glob:

   client-lib
   version
