:wxfrwk:`基础库 <client-lib/client-lib>`
========================================================

基础库与客户端之间的关系
---------------------------------

小程序的能力需要微信客户端来支撑，每一个基础库都只能在对应的客户端版本上运行，高版本的基础库无法兼容低版本的微信客户端。

关于基础库的兼容方法，可以查看「 :ref:`compatibility` 」章节。

基础库更新时机
---------------------------------

为了避免新版本的基础库给线上小程序带来未知的影响，微信客户端都是携带 上一个稳定版 的基础库发布的。

在新版本客户端发布后，再通过后台灰度新版本基础库，灰度时长一般为 12 小时，在灰度结束后，用户设备上才会有新版本的基础库。

以微信 6.5.8 为例，客户端在发布时携带的是 1.1.1 基础库(6.5.7 上已全量的稳定版)发布，在 6.5.8 发布后，
我们再通过后台灰度 1.2.0 基础库。

基础库版本分布
---------------------------------

更新时间：2019 年 4 月 27 日

全部

==========  ========
基础库版本  用户占比
==========  ========
2.6.6       90.78%
2.6.5       0.01%
2.6.4       0.00%
2.6.2       0.00%
2.6.1       0.00%
2.6.0       0.00%
2.5.2       2.70%
2.5.1       0.39%
2.5.0       0.00%
2.4.4       2.45%
2.4.3       0.00%
2.4.2       0.00%
2.4.1       0.00%
2.4.0       0.01%
2.3.2       0.67%
2.3.1       0.00%
2.3.0       0.01%
2.2.5       1.17%
2.2.4       0.00%
2.2.3       0.00%
2.2.2       0.00%
2.2.1       0.00%
2.2.0       0.00%
2.1.3       0.12%
2.1.2       0.00%
2.1.1       0.00%
2.1.0       0.00%
2.0.9       0.58%
2.0.8       0.00%
2.0.6       0.00%
2.0.5       0.00%
2.0.4       0.00%
1.9.97      0.64%
1.9.96      0.00%
1.9.95      0.01%
1.9.93      0.00%
1.9.92      0.00%
1.9.91      0.00%
1.9.90      0.00%
1.9.9       0.23%
1.9.6       0.01%
1.9.4       0.03%
1.7.4       0.04%
1.7.3       0.00%
1.7.1       0.00%
1.6.8       0.05%
1.6.6       0.00%
1.6.5       0.00%
1.6.4       0.00%
1.6.3       0.00%
1.5.8       0.03%
1.5.7       0.00%
1.5.3       0.00%
1.4.4       0.02%
1.3.0       0.00%
1.2.5       0.01%
1.2.4       0.00%
1.1.1       0.03%
1.0.1       0.00%
==========  ========

iOS

==========  ========
基础库版本  用户占比
==========  ========
2.6.6       86.25%
2.6.5       0.01%
2.6.4       0.00%
2.6.2       0.00%
2.6.1       0.00%
2.6.0       0.00%
2.5.2       3.19%
2.5.1       0.00%
2.5.0       0.00%
2.4.4       4.63%
2.4.3       0.00%
2.4.2       0.00%
2.4.1       0.00%
2.4.0       0.00%
2.3.2       1.57%
2.3.1       0.00%
2.3.0       0.00%
2.2.5       1.56%
2.2.4       0.00%
2.2.2       0.00%
2.1.3       0.53%
2.1.1       0.00%
2.0.9       0.79%
1.9.97      0.69%
1.9.91      0.00%
1.9.9       0.33%
1.9.6       0.00%
1.9.4       0.07%
1.7.4       0.06%
1.6.8       0.11%
1.6.6       0.00%
1.5.8       0.08%
1.4.4       0.03%
1.3.0       0.02%
1.2.5       0.02%
1.1.1       0.06%
==========  ========

Android

==========  ========
基础库版本  用户占比
==========  ========
2.6.6       92.14%
2.6.5       0.01%
2.6.4       0.00%
2.6.2       0.00%
2.6.1       0.00%
2.6.0       0.00%
2.5.2       2.56%
2.5.1       0.50%
2.5.0       0.00%
2.4.4       1.80%
2.4.3       0.00%
2.4.2       0.00%
2.4.1       0.00%
2.4.0       0.01%
2.3.2       0.40%
2.3.1       0.00%
2.3.0       0.01%
2.2.5       1.05%
2.2.4       0.00%
2.2.3       0.00%
2.2.2       0.00%
2.2.1       0.00%
2.2.0       0.00%
2.1.3       0.00%
2.1.2       0.00%
2.1.1       0.00%
2.1.0       0.00%
2.0.9       0.51%
2.0.8       0.00%
2.0.6       0.00%
2.0.5       0.00%
2.0.4       0.00%
1.9.97      0.62%
1.9.96      0.00%
1.9.95      0.01%
1.9.93      0.00%
1.9.92      0.00%
1.9.91      0.00%
1.9.90      0.00%
1.9.9       0.20%
1.9.6       0.02%
1.9.4       0.01%
1.7.4       0.03%
1.7.3       0.00%
1.7.1       0.00%
1.6.8       0.03%
1.6.6       0.01%
1.6.5       0.00%
1.6.4       0.00%
1.6.3       0.00%
1.5.8       0.02%
1.5.7       0.00%
1.5.3       0.00%
1.4.4       0.01%
1.2.5       0.01%
1.2.4       0.00%
1.1.1       0.01%
1.0.1       0.00%
==========  ========
